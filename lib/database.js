const _0x48d15b=_0x3bce;(function(_0x10e701,_0x3c87c2){const _0x4f096b=_0x3bce,_0x2f88e8=_0x10e701();while(!![]){try{const _0x304cd9=-parseInt(_0x4f096b(0x125))/(-0x2494+0x1bce+-0x141*-0x7)+parseInt(_0x4f096b(0x117))/(0x62*0x20+-0x5c*0x20+-0xbe)*(parseInt(_0x4f096b(0x13f))/(0xd0c+-0x1d0d+0x1004))+parseInt(_0x4f096b(0x11e))/(-0x1*0x2444+0xb*0x221+-0xcdd*-0x1)*(-parseInt(_0x4f096b(0x13a))/(-0x1aff+0x17ce+0x89*0x6))+-parseInt(_0x4f096b(0x101))/(0x1e7e+0x5*-0x2c0+-0x10b8)+parseInt(_0x4f096b(0x134))/(-0x2*-0xc93+0x2513*0x1+-0x3e32)+parseInt(_0x4f096b(0x138))/(0x23fa+-0x3*0xae7+-0x1*0x33d)*(parseInt(_0x4f096b(0x12b))/(-0x1368+0x650+0xd21))+parseInt(_0x4f096b(0x110))/(0x2669*-0x1+0x1*0x15df+0x84a*0x2);if(_0x304cd9===_0x3c87c2)break;else _0x2f88e8['push'](_0x2f88e8['shift']());}catch(_0x26c4ed){_0x2f88e8['push'](_0x2f88e8['shift']());}}}(_0x5679,0x43d7d+-0x7955c+0x731c6));import _0x211504 from'mongoose';import _0x545fdd from'fs-extra';import _0x3f75cf from'path';import{serverIP}from'./funciones.js';function _0x3bce(_0x66c9d2,_0x519208){const _0x4f542b=_0x5679();return _0x3bce=function(_0x563bb7,_0x5b4eb3){_0x563bb7=_0x563bb7-(0xd*0x2c5+-0x5c7+0x7f*-0x3b);let _0x38f271=_0x4f542b[_0x563bb7];return _0x38f271;},_0x3bce(_0x66c9d2,_0x519208);}_0x211504[_0x48d15b(0x131)](_0x48d15b(0x111)+'y',![]);const {existsSync,readFileSync,writeFileSync,mkdirSync,readJsonSync}=_0x545fdd,{DBtype}=readJsonSync(_0x48d15b(0x106)+_0x48d15b(0x137));let databaseData={'_botdb':{},'_usdb':{},'_gpdb':{},'_srvdb':{}};class MongoDB{constructor(_0xc03129){const _0x1098f2=_0x48d15b,_0x5bb5f7={'HCQEB':_0x1098f2(0x142)},_0x1078d8=_0x5bb5f7[_0x1098f2(0xfb)][_0x1098f2(0xfd)]('|');let _0x27a36f=-0x14d3+0x1528+0x55*-0x1;while(!![]){switch(_0x1078d8[_0x27a36f++]){case'0':this[_0x1098f2(0x129)]={'database':{}};continue;case'1':this[_0x1098f2(0xf6)]=_0xc03129;continue;case'2':this[_0x1098f2(0x116)]={'useNewUrlParser':!![],'useUnifiedTopology':!![]};continue;case'3':this[_0x1098f2(0x11b)]=this[_0x1098f2(0xf6)]||DBtype;continue;case'4':this[_0x1098f2(0xf9)]={};continue;}break;}}async[_0x48d15b(0x102)](){const _0x39938d=_0x48d15b,_0x92a416={'wndgb':_0x39938d(0xf9)};_0x211504[_0x39938d(0x12d)](this[_0x39938d(0x11b)],{...this[_0x39938d(0x116)]});try{const _0x32540f=new _0x211504[(_0x39938d(0x13d))]({'data':{'type':Object,'required':!![],'default':{}}});this[_0x39938d(0x129)][_0x39938d(0xf8)]=_0x211504[_0x39938d(0x129)](_0x92a416[_0x39938d(0x11c)],_0x32540f);}catch{this[_0x39938d(0x129)][_0x39938d(0xf8)]=_0x211504[_0x39938d(0x129)](_0x92a416[_0x39938d(0x11c)]);}this[_0x39938d(0xf9)]=await this[_0x39938d(0x129)][_0x39938d(0xf8)][_0x39938d(0xf7)]({});if(!this[_0x39938d(0xf9)])return await new this[(_0x39938d(0x129))][(_0x39938d(0xf8))]({'data':{}})[_0x39938d(0x130)](),this[_0x39938d(0xf9)]=await this[_0x39938d(0x129)][_0x39938d(0xf8)][_0x39938d(0xf7)]({}),this[_0x39938d(0xf9)]=this?.[_0x39938d(0xf9)]?.[_0x39938d(0xf9)];else return this?.[_0x39938d(0xf9)]?.[_0x39938d(0xf9)]||this?.[_0x39938d(0xf9)];}async[_0x48d15b(0x107)](_0x57e800){const _0x1d54c2=_0x48d15b,_0xc571ca=!!_0x57e800?_0x57e800:databaseData;if(this[_0x1d54c2(0xf9)]&&!this[_0x1d54c2(0xf9)][_0x1d54c2(0xf9)])return await new this[(_0x1d54c2(0x129))][(_0x1d54c2(0xf8))]({'data':_0xc571ca})[_0x1d54c2(0x130)]();const _0x43f809=await this[_0x1d54c2(0x129)][_0x1d54c2(0xf8)][_0x1d54c2(0x11d)](this[_0x1d54c2(0xf9)][_0x1d54c2(0x13c)]);if(!_0x43f809[_0x1d54c2(0xf9)])_0x43f809[_0x1d54c2(0xf9)]={};_0x43f809[_0x1d54c2(0xf9)]=_0xc571ca,await _0x43f809[_0x1d54c2(0x130)]();}}class LocalDatabase{constructor(_0x15494d,_0x1a78dc){const _0x2f80ad=_0x48d15b,_0x2d66b9={'PpdZW':_0x2f80ad(0x115)+'s'};this[_0x2f80ad(0x10e)]=_0x15494d,this[_0x2f80ad(0x128)]=_0x1a78dc,this[_0x2f80ad(0x143)]=_0x3f75cf[_0x2f80ad(0x11f)](process[_0x2f80ad(0x144)](),_0x2d66b9[_0x2f80ad(0x121)],this[_0x2f80ad(0x128)]);}async[_0x48d15b(0x102)](){const _0x2993b4=_0x48d15b,_0x5758f6={'wHYaH':function(_0x4e4ad8,_0x3f0426){return _0x4e4ad8(_0x3f0426);},'dZMLM':function(_0x16e522,_0x49e392,_0x58a860){return _0x16e522(_0x49e392,_0x58a860);}};let _0x2a2118;return _0x5758f6[_0x2993b4(0x122)](existsSync,this[_0x2993b4(0x143)])?_0x2a2118=_0x5758f6[_0x2993b4(0x122)](readJsonSync,this[_0x2993b4(0x143)]):(_0x5758f6[_0x2993b4(0x104)](writeFileSync,this[_0x2993b4(0x143)],JSON[_0x2993b4(0x100)]({})),_0x2a2118={}),_0x2a2118;}async[_0x48d15b(0x107)](_0x5edb48){const _0x4b4b46=_0x48d15b,_0x14f8a0={'CenQJ':function(_0xbe8467,_0x2eedec){return _0xbe8467!==_0x2eedec;},'nYSAO':function(_0x53387c,_0x498c7b){return _0x53387c(_0x498c7b);},'ovlam':function(_0x17b951,_0x3f2442,_0x5934e2){return _0x17b951(_0x3f2442,_0x5934e2);}};if(_0x14f8a0[_0x4b4b46(0x10a)](Object[_0x4b4b46(0x133)](_0x5edb48)[_0x4b4b46(0x10d)],0x2*-0x301+-0x1749+0x1d4b)){this[_0x4b4b46(0xf9)]=_0x5edb48;let _0x348e61=_0x3f75cf[_0x4b4b46(0x120)](this[_0x4b4b46(0x143)]);if(!_0x14f8a0[_0x4b4b46(0x119)](existsSync,_0x348e61))_0x14f8a0[_0x4b4b46(0x113)](mkdirSync,_0x348e61,{'recursive':!![]});let _0x26fb69={};_0x14f8a0[_0x4b4b46(0x119)](existsSync,this[_0x4b4b46(0x143)])&&(_0x26fb69=_0x14f8a0[_0x4b4b46(0x119)](readJsonSync,this[_0x4b4b46(0x143)]));const _0xc922fe={};for(const _0x29d130 in this[_0x4b4b46(0xf9)]){!_0x26fb69[_0x4b4b46(0x140)+_0x4b4b46(0x13e)](_0x29d130)&&(_0xc922fe[_0x29d130]=this[_0x4b4b46(0xf9)][_0x29d130]);}const _0x33a8af={..._0x26fb69,..._0xc922fe};return await _0x14f8a0[_0x4b4b46(0x113)](writeFileSync,this[_0x4b4b46(0x143)],JSON[_0x4b4b46(0x100)](_0x33a8af)),this[_0x4b4b46(0x143)];}}async[_0x48d15b(0x126)+_0x48d15b(0x13b)](_0x4101b2,_0x1be2d4,_0x45d681){const _0x2998ca=_0x48d15b,_0x3181f2={'cxqsT':function(_0x52cd78,_0x36a845){return _0x52cd78(_0x36a845);},'mTgDI':function(_0x587965,_0x5ec242){return _0x587965===_0x5ec242;},'ubOOA':function(_0x3516fb,_0x492527,_0x435ac3){return _0x3516fb(_0x492527,_0x435ac3);}};let _0x164582={};_0x3181f2[_0x2998ca(0xfe)](existsSync,this[_0x2998ca(0x143)])&&(_0x164582=_0x3181f2[_0x2998ca(0xfe)](readJsonSync,this[_0x2998ca(0x143)]));if(_0x3181f2[_0x2998ca(0xfa)](_0x4101b2,''))_0x164582[_0x1be2d4]=_0x45d681;else{if(!_0x164582[_0x2998ca(0x140)+_0x2998ca(0x13e)](_0x4101b2))throw new Error(_0x2998ca(0x139)+_0x2998ca(0x114)+_0x2998ca(0x105)+_0x4101b2+(_0x2998ca(0x123)+_0x2998ca(0x12f)+_0x2998ca(0x132)+'s.'));_0x164582[_0x4101b2][_0x1be2d4]=_0x45d681;}await _0x3181f2[_0x2998ca(0xfc)](writeFileSync,this[_0x2998ca(0x143)],JSON[_0x2998ca(0x100)](_0x164582));}}const Database=/mongo/[_0x48d15b(0x103)](DBtype)?MongoDB:LocalDatabase,botDatabase=new Database(_0x48d15b(0x10b),_0x48d15b(0x109)),userDatabase=new Database(_0x48d15b(0x127),_0x48d15b(0x12a)+_0x48d15b(0x137)),groupDatabase=new Database(_0x48d15b(0x11a),_0x48d15b(0x136)+'n'),esclabotsDatabase=new Database(_0x48d15b(0x124),_0x48d15b(0x118)+_0x48d15b(0x12c));function _0x5679(){const _0x2aa033=['updateObje','usuarios','filePath','model','usuarios.j','153uCKgat','json','connect','_usdb','e\x20en\x20la\x20ba','save','set','se\x20de\x20dato','keys','1891456frrVOe','now','grupos.jso','son','171880PwWvIi','El\x20objeto\x20','756005DmkBNM','ctProperty','_id','Schema','erty','2580zZEEcy','hasOwnProp','FXvmF','1|2|3|0|4','file','cwd','xZCyi','nvRIx','url','findOne','database','data','mTgDI','HCQEB','ubOOA','split','cxqsT','_gpdb','stringify','2183868RmrwnX','read','test','dZMLM','ve\x20\x27','./config.j','write','kaJSY','bot.json','CenQJ','bot','@NeKosmic','length','category','PtgxH','1923780AlFTMj','strictQuer','ncmlp','ovlam','con\x20la\x20cla','basededato','options','970FLGeKe','esclabots.','nYSAO','grupos','connection','wndgb','findById','8oQnKdl','join','dirname','PpdZW','wHYaH','\x27\x20no\x20exist','esclabots','326160DTEqQn'];_0x5679=function(){return _0x2aa033;};return _0x5679();}export async function initializeDatabases(){const _0x38a539=_0x48d15b,_0x4ea510={'PtgxH':function(_0x3ad6d4,_0x14dce7){return _0x3ad6d4===_0x14dce7;},'FXvmF':function(_0x197e8d){return _0x197e8d();},'xZCyi':_0x38a539(0x10c),'kaJSY':function(_0x394949,_0x4d2199){return _0x394949===_0x4d2199;},'nvRIx':function(_0x1c1fb3,_0xf4c4ec){return _0x1c1fb3||_0xf4c4ec;},'ncmlp':function(_0x13db25,_0x4c86db,_0x240a02){return _0x13db25(_0x4c86db,_0x240a02);}},_0x36cddd=await botDatabase[_0x38a539(0x102)](),_0x2bb474=await userDatabase[_0x38a539(0x102)](),_0x2529c8=await groupDatabase[_0x38a539(0x102)](),_0x53c224=await esclabotsDatabase[_0x38a539(0x102)]();_0x36cddd&&_0x4ea510[_0x38a539(0x10f)](Object[_0x38a539(0x133)](_0x36cddd)[_0x38a539(0x10d)],0x1298*0x1+0x1307*-0x2+0x2*0x9bb)&&await botDatabase[_0x38a539(0x107)]({'ip':await _0x4ea510[_0x38a539(0x141)](serverIP),'inicio':Date[_0x38a539(0x135)](),'cmdHits':0x0,'listen':!![],'publico':!![],'nkNspm':!![],'antiPrivado':![],'subBots':![],'apiKey':_0x4ea510[_0x38a539(0x145)]}),_0x2bb474&&_0x4ea510[_0x38a539(0x10f)](Object[_0x38a539(0x133)](_0x2bb474)[_0x38a539(0x10d)],-0x11ea*-0x2+0xd85*-0x1+-0x164f*0x1)&&await userDatabase[_0x38a539(0x107)]({}),_0x2529c8&&_0x4ea510[_0x38a539(0x10f)](Object[_0x38a539(0x133)](_0x2529c8)[_0x38a539(0x10d)],0x834+-0x1*-0x1d4e+-0x2582*0x1)&&await groupDatabase[_0x38a539(0x107)]({}),_0x53c224&&_0x4ea510[_0x38a539(0x108)](Object[_0x38a539(0x133)](_0x53c224)[_0x38a539(0x10d)],0x1*0x10ad+0x1*0x1+-0x2*0x857)&&await esclabotsDatabase[_0x38a539(0x107)]({}),databaseData={'_botdb':_0x4ea510[_0x38a539(0xf5)](_0x36cddd,{}),'_usdb':_0x4ea510[_0x38a539(0xf5)](_0x2bb474,{}),'_gpdb':_0x4ea510[_0x38a539(0xf5)](_0x2529c8,{}),'_srvdb':_0x4ea510[_0x38a539(0xf5)](_0x53c224,{})},_0x4ea510[_0x38a539(0x112)](setInterval,async()=>{const _0x1b2ab5=_0x38a539;await userDatabase[_0x1b2ab5(0x107)](databaseData[_0x1b2ab5(0x12e)]),await groupDatabase[_0x1b2ab5(0x107)](databaseData[_0x1b2ab5(0xff)]);},0x7b18+0xa15f+-0x9d7*0x11);}export function getDatabase(){return databaseData;}export{botDatabase,userDatabase,groupDatabase,esclabotsDatabase}; /* @NeKosmic */