const _0x50e676=_0x3836;(function(_0x288009,_0x339628){const _0x251a5d=_0x3836,_0x15f3e7=_0x288009();while(!![]){try{const _0x13211e=-parseInt(_0x251a5d(0x109))/(-0x1498+0x2261*0x1+-0xdc8)*(-parseInt(_0x251a5d(0x13e))/(0x15bb*0x1+-0x10ae+0x1*-0x50b))+parseInt(_0x251a5d(0x129))/(0x76*0x8+0x7a7+-0xb54)+parseInt(_0x251a5d(0x11c))/(-0x11af*0x1+0x1cd0+-0x1*0xb1d)*(parseInt(_0x251a5d(0x11e))/(-0x13ef+0x6d3+0xd21))+-parseInt(_0x251a5d(0x10e))/(0x1*0x1536+0x1f99+-0x34c9)*(-parseInt(_0x251a5d(0x114))/(-0xbd1+-0x1124*0x1+-0x2e6*-0xa))+-parseInt(_0x251a5d(0x12c))/(-0x15b9+0x3*-0x4bd+0x23f8)*(-parseInt(_0x251a5d(0x107))/(0x220f+-0x249f+0x299))+-parseInt(_0x251a5d(0x131))/(-0x2025+0x2b1+0x1d7e*0x1)+-parseInt(_0x251a5d(0x106))/(0xb2*-0x2e+0x1201+-0x2*-0x703);if(_0x13211e===_0x339628)break;else _0x15f3e7['push'](_0x15f3e7['shift']());}catch(_0x4a8ecd){_0x15f3e7['push'](_0x15f3e7['shift']());}}}(_0x1837,-0x3fd30+-0xa*-0xf30d+0xcdb*0x85));import _0x5500af from'mongoose';import _0x6177db from'fs-extra';import{dirname,join}from'path';import{serverIP}from'./funciones.js';_0x5500af[_0x50e676(0x100)](_0x50e676(0x127)+'y',![]);const {existsSync,readFileSync,writeFile,mkdirSync,readJsonSync}=_0x6177db,{DBtype}=readJsonSync(_0x50e676(0x102)+_0x50e676(0x116));function _0x1837(){const _0x405309=['XWIqU','son','options','coDCy','file','grupos','keys','33732ZIOKLm','swbwK','135LwMGEc','_gpdb','fAaAv','hpPyX','FVkft','json','now','usuarios.j','split','strictQuer','length','767409KgzseW','object','read','7352weitVr','TsctZ','cNjlm','esclabots.','stringify','1539170LErvGA','save','_botdb','Schema','cwd','wyrhv','XKtxP','esclabots','test','grupos.jso','usuarios','connection','url','154LNwlCe','HtBaW','findOne','eCFcd','basededato','1|2|0|4|3','connect','bot','findById','model','set','LRkqd','./config.j','pEyLy','FzNYf','vChUX','20307727AAeTWm','11556YmLOGo','_usdb','8022UbGgzD','QLaXh','category','bot.json','database','246AwVZpT','_id','filePath','data','_srvdb','write','88333BAaKtg'];_0x1837=function(){return _0x405309;};return _0x1837();}class MongoDB{constructor(_0x40e192){const _0x79f225=_0x50e676,_0x122517={'XWIqU':_0x79f225(0xfb)},_0x692b6e=_0x122517[_0x79f225(0x115)][_0x79f225(0x126)]('|');let _0x35f59a=0x2103+0x1*0x13ee+-0x34f1;while(!![]){switch(_0x692b6e[_0x35f59a++]){case'0':this[_0x79f225(0x13c)]=this[_0x79f225(0x13d)]||DBtype;continue;case'1':this[_0x79f225(0x13d)]=_0x40e192;continue;case'2':this[_0x79f225(0x117)]={'useNewUrlParser':!![],'useUnifiedTopology':!![]};continue;case'3':this[_0x79f225(0x111)]={};continue;case'4':this[_0x79f225(0xff)]={'database':{}};continue;}break;}}async[_0x50e676(0x12b)](){const _0x256f93=_0x50e676,_0x14f277={'pEyLy':_0x256f93(0x111)};_0x5500af[_0x256f93(0xfc)](this[_0x256f93(0x13c)],{...this[_0x256f93(0x117)]});try{const _0x450fff=new _0x5500af[(_0x256f93(0x134))]({'data':{'type':Object,'required':!![],'default':{}}});this[_0x256f93(0xff)][_0x256f93(0x10d)]=_0x5500af[_0x256f93(0xff)](_0x14f277[_0x256f93(0x103)],_0x450fff);}catch{this[_0x256f93(0xff)][_0x256f93(0x10d)]=_0x5500af[_0x256f93(0xff)](_0x14f277[_0x256f93(0x103)]);}this[_0x256f93(0x111)]=await this[_0x256f93(0xff)][_0x256f93(0x10d)][_0x256f93(0xf8)]({});if(!this[_0x256f93(0x111)])return await new this[(_0x256f93(0xff))][(_0x256f93(0x10d))]({'data':{}})[_0x256f93(0x132)](),this[_0x256f93(0x111)]=await this[_0x256f93(0xff)][_0x256f93(0x10d)][_0x256f93(0xf8)]({}),this[_0x256f93(0x111)]=this?.[_0x256f93(0x111)]?.[_0x256f93(0x111)];else return this?.[_0x256f93(0x111)]?.[_0x256f93(0x111)]||this?.[_0x256f93(0x111)];}async[_0x50e676(0x113)](_0x2d5e6e){const _0x4ac341=_0x50e676,_0x2bd570=!!_0x2d5e6e?_0x2d5e6e:{'_botdb':global[_0x4ac341(0x133)],'_usdb':global[_0x4ac341(0x108)],'_gpdb':global[_0x4ac341(0x11f)],'_srvdb':global[_0x4ac341(0x112)]};if(this[_0x4ac341(0x111)]&&!this[_0x4ac341(0x111)][_0x4ac341(0x111)])return await new this[(_0x4ac341(0xff))][(_0x4ac341(0x10d))]({'data':_0x2bd570})[_0x4ac341(0x132)]();const _0x570843=await this[_0x4ac341(0xff)][_0x4ac341(0x10d)][_0x4ac341(0xfe)](this[_0x4ac341(0x111)][_0x4ac341(0x10f)]);if(!_0x570843[_0x4ac341(0x111)])_0x570843[_0x4ac341(0x111)]={};_0x570843[_0x4ac341(0x111)]=_0x2bd570,await _0x570843[_0x4ac341(0x132)]();}}class LocalDatabase{constructor(_0xfefc22,_0x4eb379){const _0x2f500b=_0x50e676,_0x24983d={'FzNYf':function(_0x33596d,_0x4c3a15,_0x423370,_0x2ec72f){return _0x33596d(_0x4c3a15,_0x423370,_0x2ec72f);},'QLaXh':_0x2f500b(0xfa)+'s'};this[_0x2f500b(0x10b)]=_0xfefc22,this[_0x2f500b(0x110)]=_0x4eb379,this[_0x2f500b(0x119)]=_0x24983d[_0x2f500b(0x104)](join,process[_0x2f500b(0x135)](),_0x24983d[_0x2f500b(0x10a)],this[_0x2f500b(0x110)]);}async[_0x50e676(0x12b)](){const _0x8b1b9=_0x50e676,_0xcf3d30={'TsctZ':function(_0x2b5ef7,_0x4264d7){return _0x2b5ef7(_0x4264d7);},'vChUX':function(_0x277103,_0x23d111,_0x195849){return _0x277103(_0x23d111,_0x195849);}};let _0x33013d;return _0xcf3d30[_0x8b1b9(0x12d)](existsSync,this[_0x8b1b9(0x119)])?_0x33013d=_0xcf3d30[_0x8b1b9(0x12d)](readJsonSync,this[_0x8b1b9(0x119)]):(await _0xcf3d30[_0x8b1b9(0x105)](writeFile,this[_0x8b1b9(0x119)],JSON[_0x8b1b9(0x130)]({})),_0x33013d={}),_0x33013d;}async[_0x50e676(0x113)](_0x585701){const _0x55be0b=_0x50e676,_0x198efc={'eCFcd':function(_0x579f27,_0x799f6){return _0x579f27===_0x799f6;},'hpPyX':_0x55be0b(0x12a),'XKtxP':function(_0x38eeb5,_0x1d2541){return _0x38eeb5!==_0x1d2541;},'fAaAv':function(_0x30acc6,_0x3b2878){return _0x30acc6(_0x3b2878);},'wyrhv':function(_0x1bbcf9,_0x5b8202,_0x16e117){return _0x1bbcf9(_0x5b8202,_0x16e117);}};if(_0x198efc[_0x55be0b(0xf9)](typeof _0x585701,_0x198efc[_0x55be0b(0x121)])&&_0x198efc[_0x55be0b(0x137)](Object[_0x55be0b(0x11b)](_0x585701)[_0x55be0b(0x128)],0x1d*0xe0+-0xf*-0x88+-0x4*0x856)){this[_0x55be0b(0x111)]=_0x585701;let _0x572e24=_0x198efc[_0x55be0b(0x120)](dirname,this[_0x55be0b(0x119)]);if(!_0x198efc[_0x55be0b(0x120)](existsSync,_0x572e24))_0x198efc[_0x55be0b(0x136)](mkdirSync,_0x572e24,{'recursive':!![]});return await _0x198efc[_0x55be0b(0x136)](writeFile,this[_0x55be0b(0x119)],JSON[_0x55be0b(0x130)](this[_0x55be0b(0x111)])),this[_0x55be0b(0x119)];}}}function _0x3836(_0x1f5219,_0x353a70){const _0xe08d63=_0x1837();return _0x3836=function(_0x258f33,_0x4762c2){_0x258f33=_0x258f33-(0x1534+0xe8*-0xd+-0x874*0x1);let _0x5e8c24=_0xe08d63[_0x258f33];return _0x5e8c24;},_0x3836(_0x1f5219,_0x353a70);}const Database=/mongo/[_0x50e676(0x139)](DBtype)?MongoDB:LocalDatabase,botDatabase=new Database(_0x50e676(0xfd),_0x50e676(0x10c)),userDatabase=new Database(_0x50e676(0x13b),_0x50e676(0x125)+_0x50e676(0x116)),groupDatabase=new Database(_0x50e676(0x11a),_0x50e676(0x13a)+'n'),esclabotsDatabase=new Database(_0x50e676(0x138),_0x50e676(0x12f)+_0x50e676(0x123));export async function initializeDatabases(){const _0x105a20=_0x50e676,_0x1a66cd={'LRkqd':function(_0x8371a0,_0x325640){return _0x8371a0===_0x325640;},'coDCy':function(_0x30846a){return _0x30846a();},'swbwK':function(_0x23fbb3,_0x213797){return _0x23fbb3===_0x213797;},'cNjlm':function(_0x4dfe3f,_0x4ee09c){return _0x4dfe3f||_0x4ee09c;},'HtBaW':function(_0x3fd2c4,_0x4cd91b){return _0x3fd2c4===_0x4cd91b;},'FVkft':function(_0x19cea2,_0x12a924,_0x56f127){return _0x19cea2(_0x12a924,_0x56f127);}},_0xa49979=await botDatabase[_0x105a20(0x12b)](),_0x3373a8=await userDatabase[_0x105a20(0x12b)](),_0x18e2d6=await groupDatabase[_0x105a20(0x12b)](),_0x464c55=await esclabotsDatabase[_0x105a20(0x12b)]();_0xa49979&&_0x1a66cd[_0x105a20(0x101)](Object[_0x105a20(0x11b)](_0xa49979)[_0x105a20(0x128)],0x203*-0xd+0x3*-0x557+0x2a2c)?(global[_0x105a20(0x133)]={'ip':await _0x1a66cd[_0x105a20(0x118)](serverIP),'inicio':Date[_0x105a20(0x124)](),'cmdHits':0x0,'listen':!![],'publico':!![],'nkNspm':!![],'antiPrivado':![],'subBots':![]},await botDatabase[_0x105a20(0x113)](global[_0x105a20(0x133)])):global[_0x105a20(0x133)]=_0xa49979,_0x3373a8&&_0x1a66cd[_0x105a20(0x11d)](Object[_0x105a20(0x11b)](_0x3373a8)[_0x105a20(0x128)],0xa01*0x2+-0x412+-0xff0)?(global[_0x105a20(0x108)]={..._0x1a66cd[_0x105a20(0x12e)](_0x3373a8,{})},await userDatabase[_0x105a20(0x113)](global[_0x105a20(0x108)])):global[_0x105a20(0x108)]=_0x3373a8,_0x18e2d6&&_0x1a66cd[_0x105a20(0x101)](Object[_0x105a20(0x11b)](_0x18e2d6)[_0x105a20(0x128)],0x8*0x383+-0x1*-0x823+-0x35*0xaf)?(global[_0x105a20(0x11f)]={..._0x1a66cd[_0x105a20(0x12e)](_0x18e2d6,{})},await groupDatabase[_0x105a20(0x113)](global[_0x105a20(0x11f)])):global[_0x105a20(0x11f)]=_0x18e2d6,_0x464c55&&_0x1a66cd[_0x105a20(0x13f)](Object[_0x105a20(0x11b)](_0x464c55)[_0x105a20(0x128)],-0x6a2+0x1*0x34f+0x353)?(global[_0x105a20(0x112)]={..._0x1a66cd[_0x105a20(0x12e)](_0x464c55,{})},await esclabotsDatabase[_0x105a20(0x113)](global[_0x105a20(0x112)])):global[_0x105a20(0x112)]=_0x464c55,_0x1a66cd[_0x105a20(0x122)](setInterval,async()=>{const _0x6dcefe=_0x105a20;if(global[_0x6dcefe(0x108)])await userDatabase[_0x6dcefe(0x113)](global[_0x6dcefe(0x108)]);if(global[_0x6dcefe(0x11f)])await groupDatabase[_0x6dcefe(0x113)](global[_0x6dcefe(0x11f)]);if(global[_0x6dcefe(0x112)])await esclabotsDatabase[_0x6dcefe(0x113)](global[_0x6dcefe(0x112)]);if(global[_0x6dcefe(0x133)])await botDatabase[_0x6dcefe(0x113)](global[_0x6dcefe(0x133)]);},-0x39e5+0x7*0x214f+-0x3a14);}