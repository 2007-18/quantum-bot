const _0x51eb0d=_0x5d4e;function _0x2cec(){const _0x227c54=['bot.json','tAnPb','model','zaQYL','1895EKJVnE','glvAU','strictQuer','./config.j','1335692vDhRuq','11YYRgOk','fnLTm','findOne','3427860RGlykK','split','file','write','cwd','HSGvG','usuarios','category','url','437430DJINVc','1msqfjZ','options','now','_botdb','IhBZz','NTlCB','_id','ntTtw','nKeIn','1122ubOhqv','Schema','findById','_gpdb','bot','YmkpB','esclabots.','data','stringify','set','read','son','648529QZEcOZ','8649tUDmah','basededato','2704230OeEWav','72ORvItH','database','length','connect','_srvdb','filePath','sfKua','mGYVE','_usdb','json','OxKqp','esclabots','136NXBTMA','grupos.jso','qlwjC','TWEKW','IkxSk','grupos','connection','save','test','keys','usuarios.j','4|3|1|2|0'];_0x2cec=function(){return _0x227c54;};return _0x2cec();}(function(_0x861a39,_0x5cf085){const _0x48248e=_0x5d4e,_0x572e37=_0x861a39();while(!![]){try{const _0x574c36=-parseInt(_0x48248e(0xb7))/(-0x2f*-0xa7+-0x2*0xc2a+-0x654)*(-parseInt(_0x48248e(0xa9))/(0x347+-0x5*-0x619+0x3a*-0x95))+parseInt(_0x48248e(0x86))/(0x2111+-0x6*0x3b3+-0xadc)*(parseInt(_0x48248e(0x95))/(-0x7f3+-0x243b+0x2*0x1619))+-parseInt(_0x48248e(0xa5))/(-0x437+0x6b*-0x21+-0x47*-0x41)*(-parseInt(_0x48248e(0xc0))/(-0x1a*0x160+-0xd83+0x3149))+parseInt(_0x48248e(0x85))/(0xa3*-0x9+0x2411*0x1+0x1e4f*-0x1)*(-parseInt(_0x48248e(0x89))/(-0x1*-0x24af+-0x2*0x79+0x1*-0x23b5))+parseInt(_0x48248e(0x88))/(-0x1631+0x19ce+0x4*-0xe5)+-parseInt(_0x48248e(0xb6))/(-0x2149*-0x1+-0x575+0xde5*-0x2)+parseInt(_0x48248e(0xaa))/(-0x51f*-0x7+-0x1f91+0x1*-0x43d)*(parseInt(_0x48248e(0xad))/(0xb*0xe8+-0x4*-0x4f6+-0xc*0x27b));if(_0x574c36===_0x5cf085)break;else _0x572e37['push'](_0x572e37['shift']());}catch(_0xd6364){_0x572e37['push'](_0x572e37['shift']());}}}(_0x2cec,-0x10540b+0x5*0x30f8d+-0x26*-0x3ef5));import _0x2e1b57 from'mongoose';function _0x5d4e(_0xe884e,_0x557646){const _0x272de8=_0x2cec();return _0x5d4e=function(_0x53b655,_0x17c4e8){_0x53b655=_0x53b655-(0x1652+-0x1c3b*0x1+0x668);let _0xab9d89=_0x272de8[_0x53b655];return _0xab9d89;},_0x5d4e(_0xe884e,_0x557646);}import _0x3a0a3b from'fs-extra';import{dirname,join}from'path';import{serverIP}from'./funciones.js';_0x2e1b57[_0x51eb0d(0x82)](_0x51eb0d(0xa7)+'y',![]);const {existsSync,readFileSync,writeFileSync,mkdirSync,readJsonSync}=_0x3a0a3b,{DBtype}=readJsonSync(_0x51eb0d(0xa8)+_0x51eb0d(0x84));class MongoDB{constructor(_0x3e3fa6){const _0x5ee790=_0x51eb0d,_0x41c68b={'TWEKW':_0x5ee790(0xa0)},_0x9ed450=_0x41c68b[_0x5ee790(0x98)][_0x5ee790(0xae)]('|');let _0x149f13=0x664+0x6f7*0x1+0xd5b*-0x1;while(!![]){switch(_0x9ed450[_0x149f13++]){case'0':this[_0x5ee790(0x80)]={};continue;case'1':this[_0x5ee790(0x9b)]=this[_0x5ee790(0xb5)]||DBtype;continue;case'2':this[_0x5ee790(0xa3)]={'database':{}};continue;case'3':this[_0x5ee790(0xb8)]={'useNewUrlParser':!![],'useUnifiedTopology':!![]};continue;case'4':this[_0x5ee790(0xb5)]=_0x3e3fa6;continue;}break;}}async[_0x51eb0d(0x83)](){const _0x2f9f03=_0x51eb0d,_0x35584f={'IkxSk':_0x2f9f03(0x80)};_0x2e1b57[_0x2f9f03(0x8c)](this[_0x2f9f03(0x9b)],{...this[_0x2f9f03(0xb8)]});try{const _0x256b9b=new _0x2e1b57[(_0x2f9f03(0xc1))]({'data':{'type':Object,'required':!![],'default':{}}});this[_0x2f9f03(0xa3)][_0x2f9f03(0x8a)]=_0x2e1b57[_0x2f9f03(0xa3)](_0x35584f[_0x2f9f03(0x99)],_0x256b9b);}catch{this[_0x2f9f03(0xa3)][_0x2f9f03(0x8a)]=_0x2e1b57[_0x2f9f03(0xa3)](_0x35584f[_0x2f9f03(0x99)]);}this[_0x2f9f03(0x80)]=await this[_0x2f9f03(0xa3)][_0x2f9f03(0x8a)][_0x2f9f03(0xac)]({});if(!this[_0x2f9f03(0x80)])return await new this[(_0x2f9f03(0xa3))][(_0x2f9f03(0x8a))]({'data':{}})[_0x2f9f03(0x9c)](),this[_0x2f9f03(0x80)]=await this[_0x2f9f03(0xa3)][_0x2f9f03(0x8a)][_0x2f9f03(0xac)]({}),this[_0x2f9f03(0x80)]=this?.[_0x2f9f03(0x80)]?.[_0x2f9f03(0x80)];else return this?.[_0x2f9f03(0x80)]?.[_0x2f9f03(0x80)]||this?.[_0x2f9f03(0x80)];}async[_0x51eb0d(0xb0)](_0x2931a8){const _0x34f881=_0x51eb0d,_0x24b0df=!!_0x2931a8?_0x2931a8:{'_botdb':global[_0x34f881(0xba)],'_usdb':global[_0x34f881(0x91)],'_gpdb':global[_0x34f881(0xc3)],'_srvdb':global[_0x34f881(0x8d)]};if(this[_0x34f881(0x80)]&&!this[_0x34f881(0x80)][_0x34f881(0x80)])return await new this[(_0x34f881(0xa3))][(_0x34f881(0x8a))]({'data':_0x24b0df})[_0x34f881(0x9c)]();const _0x1afc0e=await this[_0x34f881(0xa3)][_0x34f881(0x8a)][_0x34f881(0xc2)](this[_0x34f881(0x80)][_0x34f881(0xbd)]);if(!_0x1afc0e[_0x34f881(0x80)])_0x1afc0e[_0x34f881(0x80)]={};_0x1afc0e[_0x34f881(0x80)]=_0x24b0df,await _0x1afc0e[_0x34f881(0x9c)]();}}class LocalDatabase{constructor(_0x4852fa,_0x48a161){const _0x5a7ebd=_0x51eb0d,_0x596be1={'glvAU':function(_0x5da6ae,_0x3eb9dd,_0x202c78,_0x4b8d14){return _0x5da6ae(_0x3eb9dd,_0x202c78,_0x4b8d14);},'zaQYL':_0x5a7ebd(0x87)+'s'};this[_0x5a7ebd(0xb4)]=_0x4852fa,this[_0x5a7ebd(0x8e)]=_0x48a161,this[_0x5a7ebd(0xaf)]=_0x596be1[_0x5a7ebd(0xa6)](join,process[_0x5a7ebd(0xb1)](),_0x596be1[_0x5a7ebd(0xa4)],this[_0x5a7ebd(0x8e)]);}async[_0x51eb0d(0x83)](){const _0x270bd6=_0x51eb0d,_0x564090={'tAnPb':function(_0x56cbbc,_0x4a00e4){return _0x56cbbc(_0x4a00e4);},'qlwjC':function(_0x29310f,_0x28822c,_0x37e7d7){return _0x29310f(_0x28822c,_0x37e7d7);}};let _0x3c55cb;return _0x564090[_0x270bd6(0xa2)](existsSync,this[_0x270bd6(0xaf)])?_0x3c55cb=_0x564090[_0x270bd6(0xa2)](readJsonSync,this[_0x270bd6(0xaf)]):(_0x564090[_0x270bd6(0x97)](writeFileSync,this[_0x270bd6(0xaf)],JSON[_0x270bd6(0x81)]({})),_0x3c55cb={}),_0x3c55cb;}async[_0x51eb0d(0xb0)](_0x5460f0){const _0x5324db=_0x51eb0d,_0x1a5c3a={'nKeIn':function(_0x25e65a,_0x52f61f){return _0x25e65a!==_0x52f61f;},'YmkpB':function(_0x44e01f,_0x8c8e5a){return _0x44e01f(_0x8c8e5a);},'mGYVE':function(_0x11fd9e,_0x390119){return _0x11fd9e(_0x390119);},'fnLTm':function(_0x23658b,_0x9355cc,_0x505b5e){return _0x23658b(_0x9355cc,_0x505b5e);}};if(_0x1a5c3a[_0x5324db(0xbf)](Object[_0x5324db(0x9e)](_0x5460f0)[_0x5324db(0x8b)],0x1529*0x1+0x15c*0xb+0x241d*-0x1)){this[_0x5324db(0x80)]=_0x5460f0;let _0x2cdce9=_0x1a5c3a[_0x5324db(0xc5)](dirname,this[_0x5324db(0xaf)]);if(!_0x1a5c3a[_0x5324db(0x90)](existsSync,_0x2cdce9))_0x1a5c3a[_0x5324db(0xab)](mkdirSync,_0x2cdce9,{'recursive':!![]});try{JSON[_0x5324db(0x81)](this[_0x5324db(0x80)]);}catch(_0x1e0803){throw new Error(null);}return await _0x1a5c3a[_0x5324db(0xab)](writeFileSync,this[_0x5324db(0xaf)],JSON[_0x5324db(0x81)](this[_0x5324db(0x80)])),this[_0x5324db(0xaf)];}}}const Database=/mongo/[_0x51eb0d(0x9d)](DBtype)?MongoDB:LocalDatabase,botDatabase=new Database(_0x51eb0d(0xc4),_0x51eb0d(0xa1)),userDatabase=new Database(_0x51eb0d(0xb3),_0x51eb0d(0x9f)+_0x51eb0d(0x84)),groupDatabase=new Database(_0x51eb0d(0x9a),_0x51eb0d(0x96)+'n'),esclabotsDatabase=new Database(_0x51eb0d(0x94),_0x51eb0d(0x7f)+_0x51eb0d(0x92));export async function initializeDatabases(){const _0x348500=_0x51eb0d,_0x5990d8={'IhBZz':function(_0x7ce430,_0x4a667c){return _0x7ce430===_0x4a667c;},'sfKua':function(_0x241f40){return _0x241f40();},'NTlCB':function(_0x85164b,_0x32b73d){return _0x85164b===_0x32b73d;},'ntTtw':function(_0x399719,_0x15abf2){return _0x399719||_0x15abf2;},'OxKqp':function(_0x16b89c,_0x501e6f){return _0x16b89c||_0x501e6f;},'HSGvG':function(_0x563687,_0x5d22e8,_0x2cfe81){return _0x563687(_0x5d22e8,_0x2cfe81);}},_0x376025=await botDatabase[_0x348500(0x83)](),_0x5ad0b2=await userDatabase[_0x348500(0x83)](),_0x53c7a4=await groupDatabase[_0x348500(0x83)](),_0x2d9048=await esclabotsDatabase[_0x348500(0x83)]();_0x376025&&_0x5990d8[_0x348500(0xbb)](Object[_0x348500(0x9e)](_0x376025)[_0x348500(0x8b)],0x232+0x1ee0+-0x1f2*0x11)?(global[_0x348500(0xba)]={'ip':await _0x5990d8[_0x348500(0x8f)](serverIP),'inicio':Date[_0x348500(0xb9)](),'cmdHits':0x0,'listen':!![],'publico':!![],'nkNspm':!![],'antiPrivado':![],'subBots':![]},await botDatabase[_0x348500(0xb0)](global[_0x348500(0xba)])):global[_0x348500(0xba)]=_0x376025,_0x5ad0b2&&_0x5990d8[_0x348500(0xbc)](Object[_0x348500(0x9e)](_0x5ad0b2)[_0x348500(0x8b)],0x4aa+0x87*-0x22+0xd44)?(global[_0x348500(0x91)]={..._0x5990d8[_0x348500(0xbe)](_0x5ad0b2,{})},await userDatabase[_0x348500(0xb0)](global[_0x348500(0x91)])):global[_0x348500(0x91)]=_0x5ad0b2,_0x53c7a4&&_0x5990d8[_0x348500(0xbb)](Object[_0x348500(0x9e)](_0x53c7a4)[_0x348500(0x8b)],0x2581*-0x1+0x21a9+-0x7b*-0x8)?(global[_0x348500(0xc3)]={..._0x5990d8[_0x348500(0xbe)](_0x53c7a4,{})},await groupDatabase[_0x348500(0xb0)](global[_0x348500(0xc3)])):global[_0x348500(0xc3)]=_0x53c7a4,_0x2d9048&&_0x5990d8[_0x348500(0xbb)](Object[_0x348500(0x9e)](_0x2d9048)[_0x348500(0x8b)],0x4cb*0x1+0x2b*0xba+-0x4b*0x7b)?(global[_0x348500(0x8d)]={..._0x5990d8[_0x348500(0x93)](_0x2d9048,{})},await esclabotsDatabase[_0x348500(0xb0)](global[_0x348500(0x8d)])):global[_0x348500(0x8d)]=_0x2d9048,_0x5990d8[_0x348500(0xb2)](setInterval,async()=>{const _0x1a11c8=_0x348500;await userDatabase[_0x1a11c8(0xb0)](global[_0x1a11c8(0x91)]),await groupDatabase[_0x1a11c8(0xb0)](global[_0x1a11c8(0xc3)]),await esclabotsDatabase[_0x1a11c8(0xb0)](global[_0x1a11c8(0x8d)]),await botDatabase[_0x1a11c8(0xb0)](global[_0x1a11c8(0xba)]);},-0x7c*0x98+0x13*0x1bb+0x9def*0x1);} /* @NeKosmic */