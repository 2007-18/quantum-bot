const _0x59a04d=_0x3b8e;(function(_0x47e73a,_0x2ca6d5){const _0x26846e=_0x3b8e,_0x2d3c48=_0x47e73a();while(!![]){try{const _0x2fc8cd=parseInt(_0x26846e(0x15d))/(0x532*-0x2+0xab7+-0x52)*(parseInt(_0x26846e(0x141))/(0x1df*0x3+0xce*-0x14+0xa7d))+parseInt(_0x26846e(0x15e))/(0x1*0x15b5+0xff7+0x1f*-0x137)+parseInt(_0x26846e(0x14c))/(-0x2a8+-0x1*0x34f+0x1*0x5fb)*(parseInt(_0x26846e(0x185))/(0x3f3*-0x9+0x6b*0x31+0xf15))+-parseInt(_0x26846e(0x14a))/(0xed*-0x26+-0x2266+-0x12e*-0x3b)*(parseInt(_0x26846e(0x15c))/(-0x17d4*0x1+-0x1a58+0x47*0xb5))+-parseInt(_0x26846e(0x140))/(-0x1c25+0xf*-0x3c+-0x85*-0x3d)+parseInt(_0x26846e(0x13b))/(0xb9f+-0x1*0xd51+0x1bb)*(-parseInt(_0x26846e(0x181))/(0x68*-0x5d+-0x80*-0x30+0x7a*0x1d))+-parseInt(_0x26846e(0x148))/(-0x1d9+0x8e*0x4+-0xc*0x7)*(-parseInt(_0x26846e(0x132))/(0x237a*0x1+0x95c+-0x2cca));if(_0x2fc8cd===_0x2ca6d5)break;else _0x2d3c48['push'](_0x2d3c48['shift']());}catch(_0x3831f9){_0x2d3c48['push'](_0x2d3c48['shift']());}}}(_0x365c,0x3c340+-0xce3e0+0x119608));import _0x315f78 from'mongoose';import _0x397116 from'fs-extra';import _0x32ebb9 from'path';import{serverIP}from'./funciones.js';_0x315f78[_0x59a04d(0x143)](_0x59a04d(0x158)+'y',![]);const {existsSync,readFileSync,writeFileSync,mkdirSync,readJsonSync}=_0x397116,{DBtype}=readJsonSync(_0x59a04d(0x180)+_0x59a04d(0x13c));function _0x365c(){const _0x1499e8=['ve\x20\x27','gUKEE','category','cmSLG','test','write','dirname','_gpdb','@NeKosmic','KyiUU','e\x20en\x20la\x20ba','oHyMP','bot','esclabots.','json','_id','zWukg','./config.j','110KDRFvr','HnZqU','uBlpz','keys','2234585NigZdT','read','filePath','model','now','ctProperty','vwMDB','erty','12EbsjYa','WwIvb','KMJAo','WvSwc','hasOwnProp','connection','PwVpB','jWrwV','save','775521qfGpTb','son','\x27\x20no\x20exist','wjdFz','utOFJ','7320616Cxqnpp','196180kDCAEo','esclabots','set','ZNCaJ','file','database','oXrGy','12335411TzuWWH','connect','5705562JMrFod','aeSvk','4WfMeWt','grupos','grupos.jso','Schema','usuarios.j','join','El\x20objeto\x20','options','cwd','hKSrV','con\x20la\x20cla','url','strictQuer','basededato','TplKx','data','7vFGQTt','8eYpwBY','3045507lNodhN','split','aBRGo','updateObje','bot.json','FNrKs','0|2|3|4|1','findOne','findById','stringify','WakxN','length','zPkyI','usuarios','nqowN','se\x20de\x20dato','_usdb'];_0x365c=function(){return _0x1499e8;};return _0x365c();}function _0x3b8e(_0x401498,_0xd987a8){const _0x2f289f=_0x365c();return _0x3b8e=function(_0xf22508,_0x4b32cf){_0xf22508=_0xf22508-(0x1*0xc91+-0x2e6*0xb+0x1483);let _0x370c9f=_0x2f289f[_0xf22508];return _0x370c9f;},_0x3b8e(_0x401498,_0xd987a8);}let databaseData={'_botdb':{},'_usdb':{},'_gpdb':{},'_srvdb':{}};class MongoDB{constructor(_0x1a44c8){const _0x386f7d=_0x59a04d,_0x2e4e57={'gUKEE':_0x386f7d(0x164)},_0x3e72f4=_0x2e4e57[_0x386f7d(0x170)][_0x386f7d(0x15f)]('|');let _0x4a1dca=0x4cf*0x7+-0xc79+-0x6*0x388;while(!![]){switch(_0x3e72f4[_0x4a1dca++]){case'0':this[_0x386f7d(0x157)]=_0x1a44c8;continue;case'1':this[_0x386f7d(0x15b)]={};continue;case'2':this[_0x386f7d(0x153)]={'useNewUrlParser':!![],'useUnifiedTopology':!![]};continue;case'3':this[_0x386f7d(0x137)]=this[_0x386f7d(0x157)]||DBtype;continue;case'4':this[_0x386f7d(0x188)]={'database':{}};continue;}break;}}async[_0x59a04d(0x186)](){const _0x12c0e3=_0x59a04d,_0x4393cb={'hKSrV':_0x12c0e3(0x15b)};_0x315f78[_0x12c0e3(0x149)](this[_0x12c0e3(0x137)],{...this[_0x12c0e3(0x153)]});try{const _0x5d372a=new _0x315f78[(_0x12c0e3(0x14f))]({'data':{'type':Object,'required':!![],'default':{}}});this[_0x12c0e3(0x188)][_0x12c0e3(0x146)]=_0x315f78[_0x12c0e3(0x188)](_0x4393cb[_0x12c0e3(0x155)],_0x5d372a);}catch{this[_0x12c0e3(0x188)][_0x12c0e3(0x146)]=_0x315f78[_0x12c0e3(0x188)](_0x4393cb[_0x12c0e3(0x155)]);}this[_0x12c0e3(0x15b)]=await this[_0x12c0e3(0x188)][_0x12c0e3(0x146)][_0x12c0e3(0x165)]({});if(!this[_0x12c0e3(0x15b)])return await new this[(_0x12c0e3(0x188))][(_0x12c0e3(0x146))]({'data':{}})[_0x12c0e3(0x13a)](),this[_0x12c0e3(0x15b)]=await this[_0x12c0e3(0x188)][_0x12c0e3(0x146)][_0x12c0e3(0x165)]({}),this[_0x12c0e3(0x15b)]=this?.[_0x12c0e3(0x15b)]?.[_0x12c0e3(0x15b)];else return this?.[_0x12c0e3(0x15b)]?.[_0x12c0e3(0x15b)]||this?.[_0x12c0e3(0x15b)];}async[_0x59a04d(0x174)](_0x34fe99){const _0x171fe6=_0x59a04d,_0x492ade=!!_0x34fe99?_0x34fe99:databaseData;if(this[_0x171fe6(0x15b)]&&!this[_0x171fe6(0x15b)][_0x171fe6(0x15b)])return await new this[(_0x171fe6(0x188))][(_0x171fe6(0x146))]({'data':_0x492ade})[_0x171fe6(0x13a)]();const _0x54c24e=await this[_0x171fe6(0x188)][_0x171fe6(0x146)][_0x171fe6(0x166)](this[_0x171fe6(0x15b)][_0x171fe6(0x17e)]);if(!_0x54c24e[_0x171fe6(0x15b)])_0x54c24e[_0x171fe6(0x15b)]={};_0x54c24e[_0x171fe6(0x15b)]=_0x492ade,await _0x54c24e[_0x171fe6(0x13a)]();}}class LocalDatabase{constructor(_0x1b4851,_0x34af7c){const _0x3331b3=_0x59a04d,_0x4b25c3={'nqowN':_0x3331b3(0x159)+'s'};this[_0x3331b3(0x171)]=_0x1b4851,this[_0x3331b3(0x187)]=_0x34af7c,this[_0x3331b3(0x145)]=_0x32ebb9[_0x3331b3(0x151)](process[_0x3331b3(0x154)](),_0x4b25c3[_0x3331b3(0x16c)],this[_0x3331b3(0x187)]);}async[_0x59a04d(0x186)](){const _0x44f3e1=_0x59a04d,_0x94e4c0={'oXrGy':function(_0x1197a2,_0x3095e4){return _0x1197a2(_0x3095e4);},'WwIvb':function(_0x363182,_0x304fa7){return _0x363182(_0x304fa7);},'zWukg':function(_0x389cc4,_0xbe1a8a,_0x545d37){return _0x389cc4(_0xbe1a8a,_0x545d37);}};let _0x5ded52;return _0x94e4c0[_0x44f3e1(0x147)](existsSync,this[_0x44f3e1(0x145)])?_0x5ded52=_0x94e4c0[_0x44f3e1(0x133)](readJsonSync,this[_0x44f3e1(0x145)]):(_0x94e4c0[_0x44f3e1(0x17f)](writeFileSync,this[_0x44f3e1(0x145)],JSON[_0x44f3e1(0x167)]({})),_0x5ded52={}),_0x5ded52;}async[_0x59a04d(0x174)](_0x4759eb){const _0x5b6319=_0x59a04d,_0xd86655={'jWrwV':function(_0x155204,_0x53fb8a){return _0x155204!==_0x53fb8a;},'zPkyI':function(_0x103808,_0x7d97d4){return _0x103808(_0x7d97d4);},'TplKx':function(_0x41848d,_0x4e0c28,_0x4c608b){return _0x41848d(_0x4e0c28,_0x4c608b);},'FNrKs':function(_0x4ea4ed,_0x5a2833){return _0x4ea4ed(_0x5a2833);},'WvSwc':function(_0x38b166,_0x42b4cf){return _0x38b166(_0x42b4cf);},'uBlpz':function(_0x1e87e0,_0x424a55,_0x59864a){return _0x1e87e0(_0x424a55,_0x59864a);}};if(_0xd86655[_0x5b6319(0x139)](Object[_0x5b6319(0x184)](_0x4759eb)[_0x5b6319(0x169)],0x12d0+-0x444*-0x8+-0x34f0)){this[_0x5b6319(0x15b)]=_0x4759eb;let _0x117560=_0x32ebb9[_0x5b6319(0x175)](this[_0x5b6319(0x145)]);if(!_0xd86655[_0x5b6319(0x16a)](existsSync,_0x117560))_0xd86655[_0x5b6319(0x15a)](mkdirSync,_0x117560,{'recursive':!![]});let _0x142f05={};_0xd86655[_0x5b6319(0x163)](existsSync,this[_0x5b6319(0x145)])&&(_0x142f05=_0xd86655[_0x5b6319(0x135)](readJsonSync,this[_0x5b6319(0x145)]));const _0x8eda72={};for(const _0x5e7076 in this[_0x5b6319(0x15b)]){!_0x142f05[_0x5b6319(0x136)+_0x5b6319(0x18c)](_0x5e7076)&&(_0x8eda72[_0x5e7076]=this[_0x5b6319(0x15b)][_0x5e7076]);}const _0x4867df={..._0x142f05,..._0x8eda72};try{JSON[_0x5b6319(0x167)](_0x4867df);}catch(_0x139cf1){throw new Error(null);}return await _0xd86655[_0x5b6319(0x183)](writeFileSync,this[_0x5b6319(0x145)],JSON[_0x5b6319(0x167)](_0x4867df)),this[_0x5b6319(0x145)];}}async[_0x59a04d(0x161)+_0x59a04d(0x18a)](_0x251748,_0x29600b,_0x354b01){const _0x5876c8=_0x59a04d,_0x5b7143={'ZNCaJ':function(_0x1bacf6,_0x3c2822){return _0x1bacf6(_0x3c2822);},'vwMDB':function(_0x184c09,_0x4236f2){return _0x184c09(_0x4236f2);},'aBRGo':function(_0x1c0bba,_0x4e4d02){return _0x1c0bba===_0x4e4d02;},'wjdFz':function(_0x4361d9,_0x2c0a67,_0x531271){return _0x4361d9(_0x2c0a67,_0x531271);}};let _0x45098a={};_0x5b7143[_0x5876c8(0x144)](existsSync,this[_0x5876c8(0x145)])&&(_0x45098a=_0x5b7143[_0x5876c8(0x18b)](readJsonSync,this[_0x5876c8(0x145)]));if(_0x5b7143[_0x5876c8(0x160)](_0x251748,''))_0x45098a[_0x29600b]=_0x354b01;else{if(!_0x45098a[_0x5876c8(0x136)+_0x5876c8(0x18c)](_0x251748))throw new Error(_0x5876c8(0x152)+_0x5876c8(0x156)+_0x5876c8(0x16f)+_0x251748+(_0x5876c8(0x13d)+_0x5876c8(0x179)+_0x5876c8(0x16d)+'s.'));_0x45098a[_0x251748][_0x29600b]=_0x354b01;}await _0x5b7143[_0x5876c8(0x13e)](writeFileSync,this[_0x5876c8(0x145)],JSON[_0x5876c8(0x167)](_0x45098a));}}const Database=/mongo/[_0x59a04d(0x173)](DBtype)?MongoDB:LocalDatabase,botDatabase=new Database(_0x59a04d(0x17b),_0x59a04d(0x162)),userDatabase=new Database(_0x59a04d(0x16b),_0x59a04d(0x150)+_0x59a04d(0x13c)),groupDatabase=new Database(_0x59a04d(0x14d),_0x59a04d(0x14e)+'n'),esclabotsDatabase=new Database(_0x59a04d(0x142),_0x59a04d(0x17c)+_0x59a04d(0x17d));export async function initializeDatabases(){const _0x27e59a=_0x59a04d,_0x434e07={'WakxN':function(_0x48835b,_0x238de0){return _0x48835b===_0x238de0;},'HnZqU':function(_0x16ea28){return _0x16ea28();},'oHyMP':_0x27e59a(0x177),'KyiUU':function(_0x163042,_0x2ef43d){return _0x163042===_0x2ef43d;},'aeSvk':function(_0x566840,_0x1d4a6d){return _0x566840===_0x1d4a6d;},'PwVpB':function(_0x698aa5,_0x309a67){return _0x698aa5||_0x309a67;},'cmSLG':function(_0x3f2c33,_0x44fb20){return _0x3f2c33||_0x44fb20;},'utOFJ':function(_0x210244,_0x25ea23){return _0x210244||_0x25ea23;},'KMJAo':function(_0x247753,_0x4b46b9,_0x236922){return _0x247753(_0x4b46b9,_0x236922);}},_0x1a48b7=await botDatabase[_0x27e59a(0x186)](),_0x328201=await userDatabase[_0x27e59a(0x186)](),_0x182045=await groupDatabase[_0x27e59a(0x186)](),_0x28dc9d=await esclabotsDatabase[_0x27e59a(0x186)]();_0x1a48b7&&_0x434e07[_0x27e59a(0x168)](Object[_0x27e59a(0x184)](_0x1a48b7)[_0x27e59a(0x169)],0x3*-0x48f+0x4*0x72e+-0xf0b)&&await botDatabase[_0x27e59a(0x174)]({'ip':await _0x434e07[_0x27e59a(0x182)](serverIP),'inicio':Date[_0x27e59a(0x189)](),'cmdHits':0x0,'listen':!![],'publico':!![],'nkNspm':!![],'antiPrivado':![],'subBots':![],'apiKey':_0x434e07[_0x27e59a(0x17a)]}),_0x328201&&_0x434e07[_0x27e59a(0x178)](Object[_0x27e59a(0x184)](_0x328201)[_0x27e59a(0x169)],-0x80*-0x31+-0x16ff+-0xb*0x23)&&await userDatabase[_0x27e59a(0x174)]({}),_0x182045&&_0x434e07[_0x27e59a(0x168)](Object[_0x27e59a(0x184)](_0x182045)[_0x27e59a(0x169)],0x3*-0x24d+0x1e7c+-0x1795)&&await groupDatabase[_0x27e59a(0x174)]({}),_0x28dc9d&&_0x434e07[_0x27e59a(0x14b)](Object[_0x27e59a(0x184)](_0x28dc9d)[_0x27e59a(0x169)],0x2552+0xe2*0x29+-0x4984)&&await esclabotsDatabase[_0x27e59a(0x174)]({}),databaseData={'_botdb':_0x434e07[_0x27e59a(0x138)](_0x1a48b7,{}),'_usdb':_0x434e07[_0x27e59a(0x172)](_0x328201,{}),'_gpdb':_0x434e07[_0x27e59a(0x13f)](_0x182045,{}),'_srvdb':_0x434e07[_0x27e59a(0x172)](_0x28dc9d,{})},_0x434e07[_0x27e59a(0x134)](setInterval,async()=>{const _0x1e3911=_0x27e59a;await userDatabase[_0x1e3911(0x174)](databaseData[_0x1e3911(0x16e)]),await groupDatabase[_0x1e3911(0x174)](databaseData[_0x1e3911(0x176)]);},0x3*-0x1ac9+-0x4*-0x179f+-0x1*-0x670f);}export function getDatabase(){return databaseData;}export{botDatabase,userDatabase,groupDatabase,esclabotsDatabase};